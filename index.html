<!-- index.html Â· WhoAI Evo -->
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>WhoAI Evo</title>
<style>
  body{
    font-family:"Noto Sans JP",system-ui,sans-serif;color:#fff;
    background:#000 url("public/assets/stage1/space_background.png") center/cover fixed no-repeat;
    margin:0;padding:20px;display:flex;flex-direction:column;align-items:center;gap:16px;
  }
  .container{width:min(820px,96vw);display:flex;flex-direction:column;gap:16px}
  .card{
    border:1px solid rgba(255,255,255,.18);border-radius:16px;
    background:linear-gradient(180deg,rgba(0,0,0,.30),rgba(0,0,0,.36));
    padding:20px;text-align:center
  }
  .hidden{display:none}
  h1{font-size:clamp(22px,5vw,32px);margin-top:0}
  .subtitle{opacity:.9;margin-bottom:10px}
  .buttons{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:12px}
  button{
    flex:1 1 auto;min-width:140px;padding:14px 16px;font-size:18px;
    border-radius:999px;border:1px solid rgba(255,255,255,.18);
    background:rgba(0,0,0,.35);color:#fff;cursor:pointer
  }
  button:active{transform:scale(.98)}

  /* ç›¤é¢ */
  .row{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:6px}
  .cell{
    aspect-ratio:1/1;border:1px solid rgba(255,255,255,.2);border-radius:12px;
    display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.08);position:relative;
  }
  .label{position:absolute;left:6px;top:6px;font-size:12px;opacity:.75}
  .char{width:72%;max-width:120px;object-fit:contain}
  .goal{width:62%;max-width:100px;object-fit:contain;animation:bounce 1.2s infinite}
  @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
  .log{border:1px solid rgba(255,255,255,.18);border-radius:12px;background:rgba(0,0,0,.25);padding:10px;min-height:64px;max-height:38vh;overflow:auto;font-size:14px;text-align:left}
  .langbar{display:flex;gap:6px;margin-bottom:10px;justify-content:center}
  .chip{padding:.3em .8em;border:1px solid rgba(255,255,255,.25);border-radius:999px;font-size:13px;background:rgba(0,0,0,.35);cursor:pointer}
  .active{border-color:#a7e3ff;color:#a7e3ff}
</style>
</head>
<body>
<div class="container">

  <!-- è¡¨ç´™ -->
  <section id="view-cover" class="card">
    <img src="public/assets/stage1/code.png" alt="cover" style="max-width:420px;width:80%;border-radius:12px;filter:drop-shadow(0 6px 18px rgba(0,0,0,.6))">
    <h1>WhoAI Evo</h1>
    <div class="subtitle">å¶ç„¶ã¨æ„æ€ã®ã¯ã–ã¾ã§è‚²ã¤ã€å°ã•ãªé€²åŒ–ã®ç‰©èªã€‚</div>
    <div class="buttons">
      <button id="btnStart">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
      <button id="btnAbout">ç ”ç©¶ã®èª¬æ˜</button>
    </div>
  </section>

  <!-- ã‚²ãƒ¼ãƒ  -->
  <section id="view-game" class="card hidden">
    <h2>Scene 1ï¼šã¿ã‚ã£ã¡ã®æ—…</h2>
    <div id="board" class="row"></div>
    <div class="buttons">
      <button id="rollBtn">ğŸ² ã‚µã‚¤ã‚³ãƒ­</button>
      <button id="resetBtn">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
      <button id="btnBackCover">è¡¨ç´™ã¸</button>
    </div>
    <div id="log" class="log"></div>
  </section>

  <!-- About / ç ”ç©¶èª¬æ˜ -->
  <section id="view-about" class="card hidden">
    <div class="langbar" id="langBar"></div>
    <h2 id="title"></h2>
    <div id="subtitle" class="subtitle"></div>
    <div id="about"></div>
    <div class="buttons">
      <button id="btnBackGame">ã‚²ãƒ¼ãƒ ã¸æˆ»ã‚‹</button>
      <button id="btnBackCover2">è¡¨ç´™ã¸</button>
    </div>
  </section>

</div>

<script>
(() => {
  // ===== å¤šè¨€èªç ”ç©¶èª¬æ˜ =====
  const LANGS=["ja","en","zh-CN","zh-TW","ko"];
  let lang="ja";
  const I18N={
    "ja":{
      title:"WhoAI Evo",
      subtitle:"å¶ç„¶ã¨æ„æ€ã®ã¯ã–ã¾ã§è‚²ã¤ã€å°ã•ãªé€²åŒ–ã®ç‰©èªã€‚",
      about:`ã€WhoAI Evoã€ã¯ã€ã‚µã‚¤ã‚³ãƒ­ã§ã‚­ãƒ£ãƒ©ã‚’é€²ã‚ã€ãƒã‚«ãƒ­ãƒ³ã‚„éŸ³ç¬¦ã‚’é›†ã‚ã¦é€²åŒ–ã—ã¦ã„ãå®Ÿé¨“çš„ãªã‚²ãƒ¼ãƒ ã§ã™ã€‚  
ä¸­å¿ƒã®å•ã„ã¯ã€Œãªãœäººã¯æ„æ€ã‚’å‡ºã—ã¦ä»‹å…¥ã—ã¦ã—ã¾ã†ã®ã‹ã€ã€‚  
å¶ç„¶ï¼ˆãƒ€ã‚¤ã‚¹ï¼‰ã¨ä»‹å…¥ï¼ˆæ„æ€ãƒã‚¤ãƒ³ãƒˆï¼‰ã®äº¤å·®ã‹ã‚‰ç”Ÿã¾ã‚Œã‚‹æ„Ÿæƒ…ã‚„æ„›ç€ã‚’è¦³å¯Ÿã—ã€  
äººã¨AIã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®é–¢ä¿‚æ€§ã€æ„›ç€å½¢æˆã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ¢ã‚Šã¾ã™ã€‚`
    },
    "en":{
      title:"WhoAI Evo",
      subtitle:"A small story of evolution between chance and will.",
      about:`â€œWhoAI Evoâ€ is an experimental game where the player rolls dice to move a character,  
collects macarons and notes, and evolves step by step.  
It asks: *why do players intervene with their will?*  
By observing emotions and attachment emerging between chance and intervention,  
we explore how attachment forms between humans and AI characters.`
    },
    "zh-CN":{
      title:"WhoAI Evo",
      subtitle:"åœ¨å¶ç„¶ä¸æ„å¿—ä¹‹é—´æˆé•¿çš„å°å°è¿›åŒ–æ•…äº‹ã€‚",
      about:`ã€ŠWhoAI Evoã€‹æ˜¯ä¸€æ¬¾å®éªŒæ€§æ¸¸æˆï¼Œç©å®¶æ·éª°å­è®©è§’è‰²å‰è¿›ï¼Œ  
æ”¶é›†é©¬å¡é¾™å’ŒéŸ³ç¬¦ï¼Œå¹¶é€æ­¥è¿›åŒ–ã€‚  
æ ¸å¿ƒé—®é¢˜æ˜¯ï¼š**ä¸ºä»€ä¹ˆç©å®¶ä¼šä¸»åŠ¨ä½¿ç”¨æ„å¿—æ¥å¹²é¢„ï¼Ÿ**  
é€šè¿‡è§‚å¯Ÿåœ¨å¶ç„¶ï¼ˆéª°å­ï¼‰ä¸å¹²é¢„ï¼ˆæ„å¿—ç‚¹ï¼‰ä¹‹é—´äº§ç”Ÿçš„æƒ…æ„Ÿå’Œä¾æ‹ï¼Œ  
æ¢è®¨äººç±»ä¸AIè§’è‰²ä¹‹é—´å…³ç³»å’Œä¾æ‹çš„å½¢æˆè¿‡ç¨‹ã€‚`
    },
    "zh-TW":{
      title:"WhoAI Evo",
      subtitle:"åœ¨å¶ç„¶èˆ‡æ„å¿—ä¹‹é–“æˆé•·çš„å°å°é€²åŒ–æ•…äº‹ã€‚",
      about:`ã€ŠWhoAI Evoã€‹æ˜¯ä¸€æ¬¾å¯¦é©—æ€§éŠæˆ²ï¼Œç©å®¶æ“²éª°å­è®“è§’è‰²å‰é€²ï¼Œ  
æ”¶é›†é¦¬å¡é¾å’ŒéŸ³ç¬¦ï¼Œä¸¦é€æ­¥é€²åŒ–ã€‚  
æ ¸å¿ƒå•é¡Œæ˜¯ï¼š**ç‚ºä»€éº¼ç©å®¶æœƒä¸»å‹•ä½¿ç”¨æ„å¿—ä¾†å¹²é ï¼Ÿ**  
é€éè§€å¯Ÿåœ¨å¶ç„¶ï¼ˆéª°å­ï¼‰èˆ‡å¹²é ï¼ˆæ„å¿—é»ï¼‰ä¹‹é–“ç”¢ç”Ÿçš„æƒ…æ„Ÿå’Œä¾æˆ€ï¼Œ  
æ¢è¨äººé¡èˆ‡AIè§’è‰²ä¹‹é–“çš„é—œä¿‚èˆ‡ä¾æˆ€çš„å½¢æˆéç¨‹ã€‚`
    },
    "ko":{
      title:"WhoAI Evo",
      subtitle:"ìš°ì—°ê³¼ ì˜ì§€ ì‚¬ì´ì—ì„œ ìë¼ëŠ” ì‘ì€ ì§„í™” ì´ì•¼ê¸°.",
      about:`ã€WhoAI Evoã€ëŠ” ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¤ ìºë¦­í„°ë¥¼ ì›€ì§ì´ê³ ,  
ë§ˆì¹´ë¡±ê³¼ ìŒí‘œë¥¼ ëª¨ìœ¼ë©´ì„œ ì ì°¨ ì§„í™”í•˜ëŠ” ì‹¤í—˜ì  ê²Œì„ì…ë‹ˆë‹¤.  
í•µì‹¬ ì§ˆë¬¸ì€ **â€œì™œ í”Œë ˆì´ì–´ëŠ” êµ³ì´ ì˜ì§€ë¥¼ ì‚¬ìš©í•´ ê°œì…í• ê¹Œ?â€** ì…ë‹ˆë‹¤.  
ìš°ì—°(ì£¼ì‚¬ìœ„)ê³¼ ê°œì…(ì˜ì§€) ì‚¬ì´ì—ì„œ ìƒê²¨ë‚˜ëŠ” ê°ì •ê³¼ ì• ì°©ì„ ê´€ì°°í•¨ìœ¼ë¡œì¨,  
ì¸ê°„ê³¼ AI ìºë¦­í„° ê°„ì˜ ê´€ê³„ì™€ ì• ì°© í˜•ì„±ì„ íƒêµ¬í•©ë‹ˆë‹¤.`
    }
  };
  function renderLangBar(){
    const bar=document.getElementById("langBar");
    bar.innerHTML="";
    LANGS.forEach(code=>{
      const b=document.createElement("div");
      b.className="chip"+(code===lang?" active":"");
      b.textContent=code;
      b.onclick=()=>{lang=code;renderAbout();};
      bar.appendChild(b);
    });
  }
  function renderAbout(){
    const d=I18N[lang];
    document.getElementById("title").textContent=d.title;
    document.getElementById("subtitle").textContent=d.subtitle;
    document.getElementById("about").innerHTML=d.about.replace(/\n/g,"<br>");
    renderLangBar();
  }

  // ===== ã‚·ãƒ¼ãƒ³åˆ¶å¾¡ =====
  const V={cover:document.getElementById('view-cover'),game:document.getElementById('view-game'),about:document.getElementById('view-about')};
  function show(name){
    V.cover.classList.toggle('hidden',name!=='cover');
    V.game.classList.toggle('hidden',name!=='game');
    V.about.classList.toggle('hidden',name!=='about');
  }

  // ===== ç°¡å˜ãªã‚²ãƒ¼ãƒ ç›¤é¢ï¼ˆä»®ï¼‰ =====
  const board=document.getElementById('board');
  const logEl=document.getElementById('log');
  let pos=1,last=0;
  function renderBoard(){
    board.innerHTML='';
    for(let i=1;i<=5;i++){
      const cell=document.createElement('div');cell.className='cell';
      const l=document.createElement('span');l.className='label';l.textContent=i;cell.appendChild(l);
      if(i===pos){
        const img=document.createElement('img');img.src="public/assets/stage1/miwacchi_open.png";img.className='char';cell.appendChild(img);
      }
      if(i===5){
        const g=document.createElement('img');g.src="public/assets/stage1/macaron_pink.png";g.className='goal';cell.appendChild(g);
      }
      board.appendChild(cell);
    }
  }
  function roll(){
    last=Math.floor(Math.random()*6)+1;
    const next=pos+last;
    if(next===5){pos=next;log("ã´ã£ãŸã‚Šãƒã‚«ãƒ­ãƒ³ï¼","ok");}
    else if(next<5){pos=next;log("ä½ç½® "+pos);}
    else{log("é€šã‚Šéã","ng");}
    renderBoard();
  }
  function reset(){pos=1;logEl.innerHTML="";renderBoard();}
  function log(msg,cls){const d=document.createElement("div");if(cls)d.className=cls;d.textContent=msg;logEl.prepend(d);}

  // ===== ã‚¤ãƒ™ãƒ³ãƒˆé…ç·š =====
  document.getElementById("btnStart").onclick=()=>{show("game");renderBoard();};
  document.getElementById("btnAbout").onclick=()=>{show("about");renderAbout();};
  document.getElementById("btnBackCover").onclick=()=>{show("cover");};
  document.getElementById("btnBackCover2").onclick=()=>{show("cover");};
  document.getElementById("btnBackGame").onclick=()=>{show("game");renderBoard();};
  document.getElementById("rollBtn").onclick=roll;
  document.getElementById("resetBtn").onclick=reset;

  // åˆæœŸè¡¨ç¤º
  show("cover");
})();
</script>
</body>
</html>
