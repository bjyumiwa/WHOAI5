<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WhoAI</title>
  <meta name="color-scheme" content="dark light" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'/>">
  <style>
    :root{
      --bg:#000;--fg:#fff;--muted:rgba(255,255,255,.8);--glass:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.2);--accent:#f5a3b6;--shadow:0 24px 80px rgba(0,0,0,.45)
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family: "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
      color:var(--fg);
      background:#000 url('public/assets/stage1/space_background.png') center/cover fixed no-repeat;
    }
    .overlay{position:fixed;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.55))}
    .wrap{min-height:100%;display:grid;place-items:center;padding:32px}
    .panel{
      width:min(980px,96vw); padding:32px 22px 26px; text-align:center; border-radius:28px;
      background:var(--glass); border:1px solid var(--border); box-shadow:var(--shadow);
      backdrop-filter:saturate(130%) blur(4px);
    }
    .heroImg{width:min(320px,60vw); max-width:360px; height:auto; border-radius:12px; background:#fff;
      box-shadow:0 14px 36px rgba(0,0,0,.35); image-rendering:auto;
    }
    h1{font-size: clamp(28px, 6vw, 56px); margin:18px 0 10px; letter-spacing:.02em}
    .lead{font-size: clamp(14px, 2.4vw, 20px); color:var(--muted); margin:0 auto 18px; max-width:780px; line-height:1.7}
    .cta{display:flex; justify-content:center; margin: 10px 0 8px}
    .btn{
      background:var(--accent); color:#2a0c14; border:none; border-radius:14px; padding:14px 20px; font-weight:800;
      box-shadow:0 10px 30px rgba(245,163,182,.35); cursor:pointer; font-size:16px;
    }
    .lang{margin-top:12px; font-size:14px}
    .lang a{color:#fff; opacity:.95; text-decoration:underline; cursor:pointer; margin:0 6px}
    .hint{opacity:.65; font-size:12px; margin-top:6px}
    footer{position:fixed; inset:auto 0 8px 0; display:flex; justify-content:center; pointer-events:none}
  </style>
</head>
<body>
  <div class="overlay" aria-hidden="true"></div>
  <div class="wrap">
    <main class="panel" role="main">
      <img src="public/assets/stage1/miwacchi_open.png" alt="companion" class="heroImg" loading="eager" decoding="async" fetchpriority="high" />
      <h1 data-i18n="welcome_title">WhoAIへようこそ</h1>
      <p class="lead" data-i18n="welcome_body">
        まずはタネのタイプを選んで、名前を付けてから育てよう。ポイントが貯まるとマカロンで進化！
      </p>
      <div class="cta">
        <button class="btn" id="btnStart" data-i18n="start_seed">はじめる（タネを選ぶ）</button>
      </div>
      <div class="lang">
        <a data-lang="ja">日本語</a> ｜
        <a data-lang="en">English</a> ｜
        <a data-lang="zh-Hans">简体</a> ｜
        <a data-lang="zh-Hant">繁體</a> ｜
        <a data-lang="ko">한국어</a>
      </div>
      <div class="hint" data-i18n="lang_hint">言語設定は次回アクセス時も保存されます。</div>
    </main>
  </div>
  <footer><small class="hint">© WhoAI</small></footer>

  <script>
    // --- i18n dictionary ---
    const I18N = {
      ja:{
        welcome_title:'WhoAIへようこそ',
        welcome_body:'まずはタネのタイプを選んで、名前を付けてから育てよう。ポイントが貯まるとマカロンで進化！',
        start_seed:'はじめる（タネを選ぶ）',
        lang_hint:'言語設定は次回アクセス時も保存されます。'
      },
      en:{
        welcome_title:'Welcome to WhoAI',
        welcome_body:'Choose your seed type, give it a name, and start nurturing. Earn points and evolve with macarons!',
        start_seed:'Get Started (Choose Seed)',
        lang_hint:'Your language will be saved for next visits.'
      },
      'zh-Hans':{
        welcome_title:'欢迎来到 WhoAI',
        welcome_body:'先选择种子类型，取个名字再培养。积分累积后可用马卡龙进化！',
        start_seed:'开始（选择种子）',
        lang_hint:'语言设置会在下次访问时保存。'
      },
      'zh-Hant':{
        welcome_title:'歡迎來到 WhoAI',
        welcome_body:'先選擇種子類型，命名後開始培育。累積點數可用馬卡龍進化！',
        start_seed:'開始（選擇種子）',
        lang_hint:'語言設定會在下次造訪時保存。'
      },
      ko:{
        welcome_title:'WhoAI에 오신 것을 환영해요',
        welcome_body:'씨앗 타입을 고르고 이름을 지어 키워 보세요. 포인트가 쌓이면 마카롱으로 진화!',
        start_seed:'시작하기 (씨앗 선택)',
        lang_hint:'언어 설정은 다음 방문에도 유지됩니다.'
      }
    };

    function setLang(lang){ if(!I18N[lang]) lang='ja';
      localStorage.setItem('whoai.lang', lang);
      document.documentElement.lang = lang.startsWith('zh') ? 'zh' : lang;
      const dict = I18N[lang];
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k = el.getAttribute('data-i18n');
        if(dict[k]) el.textContent = dict[k];
      });
    }

    // init language
    (function(){
      const saved = localStorage.getItem('whoai.lang') || (navigator.language||'ja').slice(0,2);
      setLang(saved);
      document.querySelectorAll('.lang a').forEach(a=>{
        a.addEventListener('click',()=> setLang(a.getAttribute('data-lang')) );
      });
      document.getElementById('btnStart').addEventListener('click',()=>{
        // 次の画面がまだ無い場合の仮アクション
        // 実装後は location.href = 'seed.html' 等に置換
        alert('スタート！ 次の画面（タネ選択）へ遷移させてください。');
      });
    })();
  </script>
</body>
</html>
